<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>The greatest news app ever</title>
  </head>
  <body>

<div id = "app">
 

  <input
   v-model="newSearchText"
   v-on:keyup.enter="makeNewSearch"
   placeholder="Enter search term here">

<div v-for="result in results">
  <div class="card">
    <div class="card-divider">
     <p><a href="{{ result.web_url }}"> {{ result.headline.main }}</a></p>
    </div>
    <div class="card-section">
      <p>{{ result.abstract }}</p>
	<br>
	<hr>
    </div>
  </div>
</div>

 

 <script src="https://unpkg.com/vue"></script>
 <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
 <script>


const baseUrl = "https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key";
const ApiKey = "=c74fb5d7de7f4394a37aa1f462430bff";

function buildUrl(url) {
  
  console.log( baseUrl + ApiKey + "&q=" + url)
  
  return baseUrl + ApiKey + "&q=" + url
}

  
const vm = new Vue({
  el: '#app',
  data: {
    newSearchText: '',  
    results: []
  },
  mounted() {
    this.makeNewSearch(this.newSearchText);
     },
     methods: {
       makeNewSearch() {
         let url = buildUrl(this.newSearchText);
         axios.get(url).then((response) => {
         <!--  this.results = response.data.results; !-->
          this.results = response.data.response.docs;
         }).catch( error => {console.log(error); });
    }
  }
});
</script>

</body>
</html>
